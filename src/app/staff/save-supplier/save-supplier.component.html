<div class="btn btn-group">
    <button class="btn btn-secondary" (click)="setSaveOption()"> Save Supplier</button>
    <button class="btn btn-secondary" (click)="setListOption()">Suppliers List</button>
</div>

<div class="row my-3" *ngIf="activeBlock == 'SAVE'">
    <div class="col-md-3 mx-auto">
        <div class="card rounded-2">
            <div class="card-header">
                <h3 class="my-2">just fill the empty fields</h3>
            </div>
            <div class="card-body">
                <form (ngSubmit)="saveSupplier(myForm.value)" #myForm ="ngForm">
                    
                    
                    <div class="form-group row mt-2">
                        <label class="col-form-label col-4">Name</label>
                        <div class="col-8">
                            <input type="text" name="name" placeholder = "enter the supplier's name..." ngModel class="form-control" required>
                        </div>
                    </div>
                    <div class="form-group row mt-2">
                        <label class="col-form-label col-4">Tel</label>
                        <div class="col-8">
                            <input type="text" name="tel" placeholder = "enter the phone number..." class ="form-control" required ngModel>
                        </div>
                    </div>
                    
                    <div class="form-group row mt-2">
                        <label class="col-form-label col-4">Address</label>
                        <div class="col-8">
                            <input type="text" name="address" placeholder = "enter the address..." class ="form-control" required ngModel>
                        </div>
                    </div>

                    <div class="form-group row mt-2">
                        <label class="col-form-label col-4">Category</label>
                        <div class="col-8">
                            <select name="category" ngModel class="form-select">
                                <option  *ngFor="let cat of categories" value="{{cat}}">{{cat}}</option>
                            </select>                        
                        </div>
                    </div>
                    
                    <div class="form-group row mt-2">
                        <label class="col-form-label col-4">Address</label>
                        <div class="col-8">
                            <input type="text" name="description" placeholder = "enter the description" class ="form-control" required ngModel>
                        </div>
                    </div>
                    <div class="d-flex justify-content-between mt-2">
                        <button type="submit" class="btn btn-primary"> Save </button>
                        <button type="reset" class="btn btn-success"> Reset </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<div class="table-responsive mt-2" *ngIf="activeBlock==='LIST'" >
    <div>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>NÂ° </th>
                    <th>Name</th>
                    <th>tel</th>
                    <th>address</th>
                    <th>category</th>
                    <th>description</th>
                   
                </tr>
            </thead>
            <tbody>
                <tr *ngFor='let supp of suppliers'>
                    <td> </td>
                    <td>{{supp.name}}</td>
                    <td>{{supp.tel}}</td>
                    <td>{{supp.address}}</td>
                    <td>{{supp.category}}</td>
                    <td>{{supp.description}}</td>
                    <td>
                        <a class="btn btn-primary" (click)="editSupplier (supplier.id)">
                            Update
                        </a>
                    </td>
                    <!-- <td>
                        <a class="btn btn-danger" (click)="deleteSupplier (supplier.id)">
                            Delete
                        </a>
                    </td> -->
                </tr>
            </tbody>
        </table>

    </div>
    
</div>
<div class="row my-3" *ngIf="activeBlock == 'EDIT'">
    <div class="col-md-3 mx-auto">
        <div class="card rounded-2">
            <div class="card-header">
                <h3 class="my-2">Update supplier infos</h3>
            </div>
            <div class="card-body">
                <form (ngSubmit)="updateSupplier(myForm.value)" #myForm ="ngForm">
                    <div class="form-group mt-2">
                        <input type="text" name="name"  [(ngModel)]="supplier.name" placeholder = "enter the supplier's name..." ngModel class="form-control" required>
                    </div>
                    
                    <div class="form-group mt-2">
                        <input type="text" name="tel" [(ngModel)]="supplier.tel" placeholder = "enter the phone number..." class ="form-control" required>
                    </div>
     
                    <div class="form-group mt-2">
                        <input type="text" name="address" [(ngModel)]="supplier.address" placeholder = "enter the address..." class ="form-control" required>
                    </div>
                    <select name="category" [(ngModel)]="supplier.category" class="form-select">
                        <option  *ngFor="let cat of categories" value="{{cat}}">{{cat}}</option>
                    </select>
                    <div class="form-group mt-2">
                        <input type="text" name="description" [(ngModel)]="supplier.description" placeholder = "enter the description" class ="form-control" required>
                    </div>
                    <div class="d-flex justify-content-between">
                        <button type="submit" class="btn btn-primary float-right"> Save </button>
                        <button type="reset" class="btn btn-success mx-3"> Reset </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
